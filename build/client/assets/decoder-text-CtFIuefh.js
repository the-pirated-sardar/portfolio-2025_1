import{r as l,j as h}from"./jsx-runtime-BMrMXMSG.js";import{V as _}from"./visually-hidden-CreUTIVu.js";import{c as j}from"./style-CdyozSHa.js";import{u as M}from"./image-cK7Yol7S.js";import{u as V}from"./use-spring-2oVTzKD3.js";async function G(e){return new Promise(t=>setTimeout(t,e))}const R="_text_1v07c_2",T="_glyph_1v07c_9",E="_value_1v07c_16",p={text:R,glyph:T,value:E},g=["ਅ","ਆ","ਇ","ਈ","ਉ","ਊ","ਏ","ਐ","ਓ","ਔ","ਕ","ਖ","ਗ","ਘ","ਙ","ਚ","ਛ","ਜ","ਝ","ਞ","ਟ","ਠ","ਡ","ਢ","ਣ","ਤ","ਥ","ਦ","ਧ","ਨ","ਪ","ਫ","ਬ","ਭ","ਮ","ਯ","ਰ","ਲ","ਵ","ਸ਼","ਸ","ਹ","ਖ਼","ਗ਼","ਜ਼","ੜ","ਫ਼","੦","੧","੨","੩","੪","੫","੬","੭","੮","੯","ੰ","ੱ","ਂ"],s={Glyph:"glyph",Value:"value"};function N(e,t,r){return e.map((i,a)=>{if(a<r)return{type:s.Value,value:i};if(r%1<.5){const n=Math.floor(Math.random()*g.length);return{type:s.Glyph,value:g[n]}}return{type:s.Glyph,value:t[a].value}})}const I=l.memo(({text:e,start:t=!0,delay:r=0,className:i,...a})=>{const n=l.useRef([{type:s.Glyph,value:""}]),d=l.useRef(),m=M(),f=V(0,{stiffness:8,damping:5});return l.useEffect(()=>{const x=d.current,c=e.split(""),v=()=>{const o=n.current.map(u=>`<span class="${p[u.type]}">${u.value}</span>`);x.innerHTML=o.join("")},y=f.on("change",o=>{n.current=N(c,n.current,o),v()});return t&&!m&&(async()=>{await G(r),f.set(c.length)})(),m&&(n.current=c.map((o,u)=>({type:s.Value,value:c[u]})),v()),()=>{y==null||y()}},[f,m,t,r,e]),h.jsxs("span",{className:j(p.text,i),...a,children:[h.jsx(_,{className:p.label,children:e}),h.jsx("span",{"aria-hidden":!0,className:p.content,ref:d})]})});export{I as D};
